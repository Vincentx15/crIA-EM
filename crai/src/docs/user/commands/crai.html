<html>
<head>
    <link rel="stylesheet" type="text/css" href="../userdocs.css"/>
    <title>Command: crai</title>
</head>
<body>

<a name="top"></a>
<a href="../index.html">
    <img width="60px" src="../ChimeraX-docs-icon.svg" alt="ChimeraX docs icon"
         class="clRight" title="User Guide Index"/></a>

<h3><a href="../index.html#commands">Command</a>: crai</h3>
<h3 class="usage"><a href="usageconventions.html">Usage</a>:
    <br><b>crai</b>
  &nbsp;(<i><a href="../commands/atomspec.html#hierarchy">model-spec</a> | filepath) </i>
  &nbsp;[<b>outName</b> <i>outfilepath</i>]
  &nbsp;[<b>nObjects</b> <i>a specified number</i>]
  &nbsp;[<b>usePd</b> <i>True</i>]
  &nbsp;[<b>splitPred</b> <i>True</i>]
  &nbsp;[<b>fitMap</b> <i>True</i>]
</h3>

<b>crai</b> is a tool that lets you find antibodies in a cryo-EM map, provided either as the path to the cryo-EM map or
as the volume identifier.

<a name="options"></a>
<h3>Options</h3>
<blockquote>
<b>outName</b>
&nbsp;:&nbsp;Name of the output file. If none is provided, will either use the name of the input file with a suffix or "crai_pred"
</blockquote>
<blockquote>
<b>nObjects</b>
&nbsp;<i>None</i>&nbsp;:&nbsp;If left to None, the number of predictions is infered automatically.
    Otherwise, it should represent the expected count of antibodies in the density (exactly that many will we output)
</blockquote>
<blockquote>
<b>usePD</b>
&nbsp;<i><b>True</b>|False</i>&nbsp;:&nbsp;Whether to use persistence diagrams. They were shown to marginally affect performance
</blockquote>
<blockquote>
<b>splitPred</b>
&nbsp;<i><b>True</b>|False</i>&nbsp;:&nbsp;Whether to use split output in several pdbs, one for each Ab.
</blockquote>
<blockquote>
<b>fitMap</b>
&nbsp;<i><b>True</b>|False</i>&nbsp;:&nbsp;Whether to run <a href="../commands/fitmap.html">fitMap</a> on each prediction for a local enhancement.
    <b>Caution !</b> This sometimes completely breaks the performance of the prediction.
    If this is the case, and you would still like to use fitMap, try running it yourself with custom parameters
</blockquote>

<a name="Description"/>
<h3>Description</h3>
This command enable prediction of the antibodies present in a cryo EM density.
Simply input the id of the object (with its preceeding '#' character) or path to the density you want to make your prediction on.
An output name can be additionally provided otherwise a default name will be provided.
The number of antibodies is automatically inferred, but can also be specified by the user.
By default, the algorithm uses persistence diagram, but this can be deactivated by appending 'usePd False'.
<br>
The methods powering this tool are published in our
<a href=“https://www.biorxiv.org/content/10.1101/2023.09.27.559736v2”>article</a>, and the
corresponding repository can be found <a href=“github.com/Sanofi-Public/crai”>here</a>.
</p>

<hr>
<address>Vincent Mallet, Ecole Polytechnique, Nov 2023</address>
</body>
</html>
